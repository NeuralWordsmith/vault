{
	"nodes":[
		{"id":"aadbe614fceb0628","type":"text","text":"# Quarters\n```dataviewjs\nconst targetYear = new Date().getFullYear() + 0; // Change this for any year dynamically\nconst currentMonth = new Date().getMonth() + 1;\nconst currentQuarter = Math.ceil(currentMonth / 3); // Calculate current quarter\n\n// Function to generate the quarterly file path\nconst getPath = (quarter) => {\n    return `00 Inbox/01 Daily Notes/${targetYear}/Q${quarter}/Q${quarter} ${targetYear}.md`;\n};\n\n// Function to check if the quarterly note exists\nconst hasQuarterNote = (quarter) => {\n    const filePath = getPath(quarter);\n    return app.vault.getAbstractFileByPath(filePath);\n};\n\n// Function to create a new quarterly note with a template\nconst createQuarterNote = async (filePath, quarter) => {\n    const fileName = filePath.split(\"/\").pop();\n    const folderPath = filePath.replace(`/${fileName}`, \"\");\n    const templatePath = \"05 - Templates/Periodic Template/4. Quarterly Notes.md\";\n\n    await app.vault.createFolder(folderPath).catch(() => {});\n\n    let templateContent = \"\";\n    const templateFile = app.vault.getAbstractFileByPath(templatePath);\n    if (templateFile) {\n        templateContent = await app.vault.read(templateFile);\n    }\n\n    const newFile = await app.vault.create(filePath, templateContent || `# Q${quarter} ${targetYear}`);\n    new Notice(`Created quarterly note: ${filePath}`);\n    return newFile;\n};\n\n// Function to open a note and switch to an already open tab if it exists\nconst openOrSwitchToNote = (filePath) => {\n    const leaves = app.workspace.getLeavesOfType(\"markdown\");\n    for (const leaf of leaves) {\n        if (leaf.view.file?.path === filePath) {\n            app.workspace.setActiveLeaf(leaf, { focus: true }); // Switch to the existing tab\n            return;\n        }\n    }\n    // If no tab is open, open a new one\n    app.workspace.openLinkText(filePath, \"\", true);\n};\n\n// Create container for quarterly notes grid\nconst container = dv.el(\"div\", \"\", { cls: \"quarterly-notes-card\" });\n\nfor (let quarter = 1; quarter <= 4; quarter++) {\n    const exists = hasQuarterNote(quarter);\n    const filePath = getPath(quarter);\n\n    // Identify the current quarter for highlighting\n    const isCurrentQuarter = targetYear === new Date().getFullYear() && quarter === currentQuarter;\n\n    // Determine box classes\n    let boxClass = \"quarterly-notes-card-box\";\n    if (exists) boxClass += \" quarterly-notes-card-box-filled\";\n    if (isCurrentQuarter) boxClass += \" quarterly-notes-card-today\";\n\n    // Append to grid with the correct class\n    const box = dv.el(\"div\", `Q${quarter}`, {\n        cls: boxClass,\n        parent: container\n    });\n\n    // Clickable behavior\n    box.style.cursor = \"pointer\";\n    box.onclick = async () => {\n        if (exists) {\n            openOrSwitchToNote(filePath); // Switch to or open existing file\n        } else {\n            await createQuarterNote(filePath, quarter); // Create and open new file\n            openOrSwitchToNote(filePath);\n        }\n    };\n}\n\n```","x":-1120,"y":-110,"width":500,"height":230},
		{"id":"e88f774adb16d7d2","type":"text","text":"# Year\n```dataviewjs\nconst targetYear = new Date().getFullYear() + 0; // Change this to any year dynamically\nconst today = new Date();\nconst currentYear = today.getFullYear();\n\n// Function to generate the yearly file path\nconst getPath = () => {\n    return `00 Inbox/01 Daily Notes/${targetYear}/${targetYear}.md`;\n};\n\n// Function to check if the yearly note exists\nconst hasYearNote = () => {\n    const filePath = getPath();\n    return app.vault.getAbstractFileByPath(filePath);\n};\n\n// Function to create a new yearly note with a template\nconst createYearNote = async (filePath) => {\n    const fileName = filePath.split(\"/\").pop();\n    const folderPath = filePath.replace(`/${fileName}`, \"\");\n    const templatePath = \"05 - Templates/Periodic Template/5. Yearly Notes.md\";\n\n    await app.vault.createFolder(folderPath).catch(() => {});\n\n    let templateContent = \"\";\n    const templateFile = app.vault.getAbstractFileByPath(templatePath);\n    if (templateFile) {\n        templateContent = await app.vault.read(templateFile);\n    }\n\n    const newFile = await app.vault.create(filePath, templateContent || `# ${targetYear}`);\n    new Notice(`Created yearly note: ${filePath}`);\n    return newFile;\n};\n\n// Function to switch to an existing tab or open a new one\nconst openOrSwitchToNote = (filePath) => {\n    const leaves = app.workspace.getLeavesOfType(\"markdown\");\n    for (const leaf of leaves) {\n        if (leaf.view.file?.path === filePath) {\n            app.workspace.setActiveLeaf(leaf, { focus: true });\n            return;\n        }\n    }\n    app.workspace.openLinkText(filePath, \"\", true); // Open in new tab if not already open\n};\n\n// Create container for yearly note\nconst container = dv.el(\"div\", \"\", { cls: \"yearly-notes-card\" });\n\nconst filePath = getPath();\nconst exists = hasYearNote();\nconst isCurrentYear = targetYear === currentYear;\n\n// Determine box classes\nlet boxClass = \"yearly-notes-card-box\";\nif (exists) boxClass += \" yearly-notes-card-box-filled\";\nif (isCurrentYear) boxClass += \" yearly-notes-card-today\";\n\n// Create the box\nconst box = dv.el(\"div\", targetYear.toString(), {\n    cls: boxClass,\n    parent: container\n});\n\n// Clickable behavior\nbox.style.cursor = \"pointer\";\nbox.onclick = async () => {\n    if (exists) {\n        openOrSwitchToNote(filePath); // Switch to or open the existing note\n    } else {\n        await createYearNote(filePath);\n        openOrSwitchToNote(filePath);\n    }\n};\n\n```","x":-1660,"y":-110,"width":520,"height":490},
		{"id":"d4e3a577ea7a3cd7","type":"text","text":"# Weeks\n```dataviewjs\nconst targetYear = new Date().getFullYear() + 0; // Change this for any year (e.g., + 2 for 2 years ahead)\n\n// Function to calculate ISO Week Number\nconst getISOWeekNumber = (date) => {\n    const tempDate = new Date(date);\n    tempDate.setUTCDate(tempDate.getUTCDate() + 4 - (tempDate.getUTCDay() || 7)); // Set to Thursday of the current week\n    const yearStart = new Date(Date.UTC(tempDate.getUTCFullYear(), 0, 1));\n    return Math.ceil(((tempDate - yearStart) / 86400000 + 1) / 7); // Calculate ISO week number as integer\n};\n\n// Function to generate the folder path for a week\nconst getPath = (week) => {\n    const quarter = `Q${Math.ceil((week * 7) / (365 / 4))}`; // Approximate quarter based on week\n    const month = new Date(targetYear, 0, (week - 1) * 7 + 1).getMonth() + 1; // Approximate month based on week\n    const monthStr = `${targetYear}-${month.toString().padStart(2, '0')}`;\n    const weekFolder = `W${week}`;\n    return `00 Inbox/01 Daily Notes/${targetYear}/${quarter}/${monthStr}/${weekFolder}/Week ${week}.md`;\n};\n\n// Function to check if notes exist for a week\nconst hasWeekNote = (week) => {\n    const filePath = getPath(week);\n    return app.vault.getAbstractFileByPath(filePath); // Check if the file exists\n};\n\n// Function to create a new weekly note with a template\nconst createWeekNote = async (filePath, week) => {\n    const fileName = filePath.split(\"/\").pop();\n    const folderPath = filePath.replace(`/${fileName}`, \"\");\n    const templatePath = \"05 - Templates/Periodic Template/2. Weekly Notes.md\"; // Path to your weekly template\n    \n    // Ensure the folder exists\n    await app.vault.createFolder(folderPath).catch(() => {}); // Ignore error if folder exists\n    \n    // Get the template content\n    let templateContent = \"\";\n    const templateFile = app.vault.getAbstractFileByPath(templatePath);\n    if (templateFile) {\n        templateContent = await app.vault.read(templateFile); // Read the template\n    }\n    \n    // Create the new weekly note with the template content\n    const newFile = await app.vault.create(filePath, templateContent || `# Week ${week}`);\n    new Notice(`Created weekly note: ${filePath}`);\n    return newFile;\n};\n\n// Create container for weekly notes grid\nconst container = dv.el(\"div\", \"\", { cls: \"weekly-notes-card\" });\n\nfor (let week = 1; week <= 52; week++) {\n    const filePath = getPath(week);\n    const exists = hasWeekNote(week);\n\n    // Identify the current week\n    const today = new Date();\n    const currentWeek = getISOWeekNumber(today);\n    const isCurrentWeek = targetYear === today.getFullYear() && week === currentWeek;\n\n    // Assign the correct classes\n    let boxClass = \"weekly-notes-card-box\";\n    if (exists) boxClass += \" weekly-notes-card-box-filled\";\n    if (isCurrentWeek) boxClass += \" weekly-notes-card-today\";\n\n    // Create the grid box\n    const box = dv.el(\"div\", week.toString(), {\n        cls: boxClass,\n        parent: container,\n    });\n\n    // Clickable behavior to switch or open in a new tab\n    box.style.cursor = \"pointer\";\n    box.onclick = async () => {\n        let alreadyOpen = false;\n\n        // Check if the file is already open\n        app.workspace.iterateAllLeaves((leaf) => {\n            const view = leaf.view;\n            if (view && view.file && view.file.path === filePath) {\n                app.workspace.revealLeaf(leaf); // Focus the existing tab\n                alreadyOpen = true;\n            }\n        });\n\n        // Open the file if not already open\n        if (!alreadyOpen) {\n            if (exists) {\n                app.workspace.openLinkText(filePath, \"\", true); // Open in a new tab\n            } else {\n                await createWeekNote(filePath, week); // Create and open in a new tab\n                app.workspace.openLinkText(filePath, \"\", true);\n            }\n        }\n    };\n}\n\n```","x":-600,"y":-110,"width":980,"height":490},
		{"id":"a1afde0bb628db76","type":"text","text":"# Chances\n```dataviewjs\nconst targetYear = new Date().getFullYear() + 0; // Next year dynamically add \" + 1\"\nconst today = new Date();\nconst todayStr = `${targetYear}-${(today.getMonth() + 1).toString().padStart(2, '0')}-${today.getDate().toString().padStart(2, '0')}`;\n\n// Function to calculate the calendar week number\nconst getCalendarWeek = (date) => {\n    const firstDayOfYear = new Date(date.getFullYear(), 0, 1);\n    const pastDays = Math.floor((date - firstDayOfYear) / 86400000); // Days since Jan 1\n    return Math.ceil((pastDays + firstDayOfYear.getDay() + 1) / 7); // Week number\n};\n\n// Function to generate the file path\nconst getPath = (month, day) => {\n    const date = new Date(targetYear, month - 1, day);\n    const week = getCalendarWeek(date);\n\n    // Quarter calculation\n    const quarter = `Q${Math.ceil(month / 3)}`;\n    const monthStr = `${targetYear}-${month.toString().padStart(2, '0')}`;\n    const dayStr = `${targetYear}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;\n    const weekStr = `W${week}`;\n\n    return `00 Inbox/01 Daily Notes/${targetYear}/${quarter}/${monthStr}/${weekStr}/${dayStr}.md`;\n};\n\n// Function to check if the note exists\nconst hasNote = (month, day) => dv.page(getPath(month, day));\n\n// Function to create a new note with a template\nconst createNote = async (filePath) => {\n    const fileName = filePath.split(\"/\").pop();\n    const folderPath = filePath.replace(`/${fileName}`, \"\");\n    const templatePath = \"05 - Templates/Periodic Template/1. Daily Notes.md\";\n\n    await app.vault.createFolder(folderPath).catch(() => {});\n    let templateContent = \"\";\n    const templateFile = app.vault.getAbstractFileByPath(templatePath);\n    if (templateFile) templateContent = await app.vault.read(templateFile);\n    const newFile = await app.vault.create(filePath, templateContent);\n    new Notice(`Created note: ${filePath}`);\n    return newFile;\n};\n\n// Create container for the calendar grid\nconst container = dv.el(\"div\", \"\", { cls: \"daily-notes-card\" });\n\nfor (let month = 1; month <= 12; month++) {\n    const daysInMonth = new Date(targetYear, month, 0).getDate();\n\n    for (let day = 1; day <= daysInMonth; day++) {\n        const filePath = getPath(month, day);\n        const exists = hasNote(month, day);\n\n        // Identify today's date\n        const dayStr = `${targetYear}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;\n        const isToday = dayStr === todayStr;\n\n        // Assign correct classes\n        let boxClass = \"daily-notes-card-box\";\n        if (exists) boxClass += \" daily-notes-card-box-filled\";\n        if (isToday) boxClass += \" daily-notes-card-today\";\n\n        const box = dv.el(\"div\", day.toString(), {\n            cls: boxClass,\n            parent: container,\n        });\n\n        // Clickable behavior\n        box.style.cursor = \"pointer\";\n        box.onclick = async () => {\n            let alreadyOpen = false;\n\n            // Check if file is already open\n            app.workspace.iterateAllLeaves((leaf) => {\n                const view = leaf.view;\n                if (view && view.file && view.file.path === filePath) {\n                    app.workspace.revealLeaf(leaf); // Focus the existing tab\n                    alreadyOpen = true;\n                }\n            });\n\n            // If not already open, open in a new tab or create and open it\n            if (!alreadyOpen) {\n                if (exists) {\n                    app.workspace.openLinkText(filePath, \"\", true); // Open in a new tab\n                } else {\n                    await createNote(filePath); // Create the note\n                    app.workspace.openLinkText(filePath, \"\", true); // Open in a new tab\n                }\n            }\n        };\n    }\n}\n\n```\n\n","x":400,"y":-110,"width":840,"height":490},
		{"id":"6506a147c5c2712d","type":"text","text":"```dataviewjs\n// Function to calculate the current quarter\nconst getCurrentQuarter = (month) => `Q${Math.ceil((month + 1) / 3)}`;\n\n// Get current date components\nconst today = new Date();\nconst quarter = getCurrentQuarter(today.getMonth());\n\nconst weekday = today.toLocaleDateString(\"default\", { weekday: \"long\" });\nconst day = today.getDate();\nconst month = today.toLocaleDateString(\"default\", { month: \"long\" });\nconst year = today.getFullYear();\n\n// Combine components into desired format\nconst finalDate = `${weekday}, ${day} ${month}, ${quarter} ${year}`;\n\n// Create a container for the clock\nconst clockContainer = dv.el(\"div\", \"\", { cls: \"live-clock\" });\n\n// Function to update the clock every second\nconst updateClock = () => {\n    const now = new Date();\n    const formattedTime = now.toLocaleTimeString(\"default\", {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        second: \"2-digit\",\n        hour12: true\n    });\n    clockContainer.innerText = `ðŸ•’ ${formattedTime}`;\n};\n\n// Initial clock render\nupdateClock();\nsetInterval(updateClock, 1000);\n\n// Add the current date with quarter and live clock to the top of the card\ndv.el(\"h1\", `ðŸ“… ${finalDate}`, { cls: \"base-card-header\" });\ndv.container.appendChild(clockContainer);\n\n```","x":-1660,"y":-350,"width":3320,"height":200},
		{"id":"31e161a877d747fe","type":"file","file":"04 - Personal Growth/Journals/Journaling guide!.md","x":1260,"y":-110,"width":400,"height":490},
		{"id":"c33cdedd58732a23","type":"text","text":"# Months\n```dataviewjs\nconst targetYear = new Date().getFullYear() + 0; // Change this to any year dynamically\nconst today = new Date();\nconst currentMonth = today.getMonth() + 1; // Get the current month (1-12)\n\n// Function to calculate the quarter based on the month\nconst getQuarter = (month) => `Q${Math.ceil(month / 3)}`;\n\n// Function to generate the monthly file path\nconst getPath = (month) => {\n    const quarter = getQuarter(month);\n    const monthStr = `${targetYear}-${month.toString().padStart(2, '0')}`;\n    const monthName = new Date(targetYear, month - 1).toLocaleString(\"default\", { month: \"long\" }); // Get full month name\n    return `00 Inbox/01 Daily Notes/${targetYear}/${quarter}/${monthStr}/${monthName} ${targetYear}.md`;\n};\n\n// Function to check if the monthly note exists\nconst hasMonthNote = (month) => {\n    const filePath = getPath(month);\n    return app.vault.getAbstractFileByPath(filePath); // Check if the file exists\n};\n\n// Function to create a new monthly note with a template\nconst createMonthNote = async (filePath, month) => {\n    const fileName = filePath.split(\"/\").pop();\n    const folderPath = filePath.replace(`/${fileName}`, \"\");\n    const templatePath = \"05 - Templates/Periodic Template/3. Monthly Notes.md\"; // Path to your monthly template\n    \n    // Ensure the folder exists\n    await app.vault.createFolder(folderPath).catch(() => {}); // Ignore error if folder exists\n    \n    // Get the template content\n    let templateContent = \"\";\n    const templateFile = app.vault.getAbstractFileByPath(templatePath);\n    if (templateFile) {\n        templateContent = await app.vault.read(templateFile); // Read the template\n    }\n    \n    // Create the new monthly note with the template content\n    const newFile = await app.vault.create(filePath, templateContent || `# ${fileName.replace(\".md\", \"\")}`);\n    new Notice(`Created monthly note: ${filePath}`);\n    return newFile;\n};\n\n// Create container for monthly notes grid\nconst container = dv.el(\"div\", \"\", { cls: \"monthly-notes-card\" });\n\nfor (let month = 1; month <= 12; month++) {\n    const filePath = getPath(month);\n    const exists = hasMonthNote(month);\n\n    // Identify the current month (for the target year)\n    const isCurrentMonth = targetYear === today.getFullYear() && month === currentMonth;\n\n    // Assign the correct classes\n    let boxClass = \"monthly-notes-card-box\";\n    if (exists) boxClass += \" monthly-notes-card-box-filled\";\n    if (isCurrentMonth) boxClass += \" monthly-notes-card-today\";\n\n    // Create the grid box\n    const box = dv.el(\"div\", month.toString(), {\n        cls: boxClass,\n        parent: container,\n    });\n\n    // Clickable behavior to switch or open in a new tab\n    box.style.cursor = \"pointer\";\n    box.onclick = async () => {\n        let alreadyOpen = false;\n\n        // Check if the file is already open\n        app.workspace.iterateAllLeaves((leaf) => {\n            const view = leaf.view;\n            if (view && view.file && view.file.path === filePath) {\n                app.workspace.revealLeaf(leaf); // Focus the existing tab\n                alreadyOpen = true;\n            }\n        });\n\n        // Open the file if not already open\n        if (!alreadyOpen) {\n            if (exists) {\n                app.workspace.openLinkText(filePath, \"\", true); // Open in a new tab\n            } else {\n                await createMonthNote(filePath, month); // Create and open in a new tab\n                app.workspace.openLinkText(filePath, \"\", true);\n            }\n        }\n    };\n}\n\n```","x":-1120,"y":120,"width":500,"height":260},
		{"id":"3610b69e31f6053c","type":"text","text":"# Today\n```dataviewjs\nconst DateTime = dv.luxon.DateTime;\nconst today = DateTime.local().startOf(\"day\");\nconst todayStr = today.toFormat(\"yyyy-MM-dd\");\n\nlet rows = [];\n\nfor (const page of dv.pages('\"00 Absorption\"')) {\n    const tasks = page.file.tasks ?? [];\n    for (const t of tasks) {\n        if (t.completed) continue;\n\n        const sectionName = t.section?.subpath ?? \"\";\n        if (!sectionName.includes(\"Mini-Spaced Repetition\")) continue;\n\n        const m = t.text.match(/\\[\\[(\\d{4}-\\d{2}-\\d{2})\\]\\]/);\n        if (!m) continue;\n\n        const dueStr = m[1];\n        if (dueStr !== todayStr) continue;   // only today\n\n        rows.push([t.text, page.file.link]);\n    }\n}\n\nif (rows.length === 0) {\n    dv.paragraph(\"âœ¨ No reviews for today â€” pure green day!\");\n} else {\n    dv.table([\"Review Task\", \"Note\"], rows);\n}\n\n```","x":610,"y":440,"width":420,"height":320},
		{"id":"03f408db7d5d5e4f","type":"text","text":"# Next 3 Days\n```dataviewjs\nconst DateTime = dv.luxon.DateTime;\nconst today = DateTime.local().startOf(\"day\");\nconst limit = today.plus({ days: 3 }).startOf(\"day\");\n\nlet rows = [];\n\nfor (const page of dv.pages('\"00 Absorption\"')) {\n    const tasks = page.file.tasks ?? [];\n    for (const t of tasks) {\n        if (t.completed) continue;\n\n        const sectionName = t.section?.subpath ?? \"\";\n        if (!sectionName.includes(\"Mini-Spaced Repetition\")) continue;\n\n        const m = t.text.match(/\\[\\[(\\d{4}-\\d{2}-\\d{2})\\]\\]/);\n        if (!m) continue;\n\n        const due = DateTime.fromISO(m[1]).startOf(\"day\");\n        if (due <= today || due > limit) continue;   // only upcoming window\n\n        rows.push([t.text, page.file.link, m[1]]);\n    }\n}\n\nif (rows.length === 0) {\n    dv.paragraph(\"ðŸ§˜ Nothing coming up in the next 3 days â€” future you is relaxed.\");\n} else {\n    dv.table([\"Review Task\", \"Note\", \"Due\"], rows);\n}\n\n```","x":1050,"y":440,"width":490,"height":320},
		{"id":"769ec8dd7bddbe9e","x":100,"y":440,"width":490,"height":320,"type":"text","text":"# Overdue\n```dataviewjs\nconst DateTime = dv.luxon.DateTime;\nconst today = DateTime.local().startOf(\"day\");\n\nlet rows = [];\n\nfor (const page of dv.pages('\"00 Absorption\"')) {\n    const tasks = page.file.tasks ?? [];\n    for (const t of tasks) {\n        if (t.completed) continue;\n\n        const sectionName = t.section?.subpath ?? \"\";\n        if (!sectionName.includes(\"Mini-Spaced Repetition\")) continue;\n\n        const m = t.text.match(/\\[\\[(\\d{4}-\\d{2}-\\d{2})\\]\\]/);\n        if (!m) continue;\n\n        const due = DateTime.fromISO(m[1]).startOf(\"day\");\n        if (due >= today) continue;   // only overdue\n\n        rows.push([t.text, page.file.link, m[1]]);\n    }\n}\n\nif (rows.length === 0) {\n    dv.paragraph(\"ðŸŽ‰ No overdue reviews â€” youâ€™re fully caught up!\");\n} else {\n    dv.table([\"Review Task\", \"Note\", \"Due\"], rows);\n}\n\n```"}
	],
	"edges":[]
}